<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Modix - Accueil</title>
<style>
  /* ====== Reset & base ====== */
  * { margin:0; padding:0; box-sizing:border-box; font-family:'Arial',sans-serif; }
  body { background: #0a0a0a; color: #fff; overflow-x:hidden; }
  a { text-decoration: none; color: inherit; }

  /* ====== Fond animé ====== */
  body::before {
    content:""; position:fixed; top:0; left:0; width:100%; height:100%;
    background: radial-gradient(circle at 50% 50%, #0ff 0%, transparent 70%);
    animation: pulseBg 6s infinite alternate;
    z-index:-2;
  }
  .stars {
    position:fixed; top:0; left:0; width:100%; height:100%;
    background: url('https://i.ibb.co/gZM6f0C/stars.png') repeat;
    animation: moveStars 200s linear infinite;
    z-index:-3;
  }
  @keyframes moveStars { from{background-position:0 0;} to{background-position:-10000px 5000px;} }
  @keyframes pulseBg { 0%{opacity:0.4;}100%{opacity:1;} }

  /* ====== Header ====== */
  header {
    width:100%; display:flex; justify-content:space-between; align-items:center;
    padding:15px 50px; background: rgba(0,0,0,0.6); backdrop-filter: blur(10px);
    position:fixed; top:0; left:0; z-index:10;
    border-bottom: 1px solid #00ffe0;
  }
  header h1 { font-size:28px; color:#00ffe0; text-shadow: 0 0 10px #0ff, 0 0 20px #0099ff; }
  nav a { margin-left:30px; font-size:16px; font-weight:bold; color:#0ff; transition: 0.3s; }
  nav a:hover { color:#00ffe0; text-shadow: 0 0 10px #0ff; }

  /* ====== Container principal ====== */
  .container { max-width:1200px; margin:120px auto 50px; padding:0 20px; }

  /* ====== Stats ====== */
  .stats { display:flex; justify-content:space-around; flex-wrap:wrap; margin-bottom:50px; }
  .stat-card {
    background: rgba(0,0,0,0.6); border:1px solid #00ffe0; border-radius:12px;
    padding:20px; width:220px; margin:10px; text-align:center;
    box-shadow: 0 0 10px #00ffe0;
    transition: transform 0.3s, box-shadow 0.3s;
  }
  .stat-card:hover { transform: translateY(-5px); box-shadow: 0 0 20px #0ff; }
  .stat-card h2 { font-size:42px; color:#0ff; margin-bottom:10px; }
  .stat-card p { font-size:16px; color:#00ffe0; }

  /* ====== Musique ====== */
  .music { margin-bottom:50px; }
  .music h2 { color:#00ffe0; margin-bottom:20px; text-shadow: 0 0 10px #0ff; }
  .track {
    display:flex; justify-content:space-between; margin-bottom:10px;
    background: rgba(0,0,0,0.4); padding:10px 20px; border-radius:8px;
    border-left: 4px solid #0ff; transition:0.3s;
  }
  .track:hover { background: rgba(0,255,255,0.1); }

  /* ====== Avis ====== */
  .reviews { margin-bottom:50px; }
  .reviews h2 { color:#00ffe0; margin-bottom:20px; text-shadow: 0 0 10px #0ff; }
  .review {
    background: rgba(0,0,0,0.4); padding:15px; border-radius:8px;
    margin-bottom:10px; display:flex; justify-content:space-between;
  }
  .stars-review { color:#0ff; }
  .review-text { max-width:70%; }

  /* ====== Commandes ====== */
  .commands h2 { color:#00ffe0; margin-bottom:20px; text-shadow:0 0 10px #0ff; }
  .cmd-card {
    background: rgba(0,0,0,0.6); border-left:4px solid #0ff; padding:15px;
    margin-bottom:10px; border-radius:8px; transition:0.3s; cursor:pointer;
  }
  .cmd-card:hover { background: rgba(0,255,255,0.1); transform:translateX(5px); }

</style>
</head>
<body>

<div class="stars"></div>

<header>
  <h1>Modix</h1>
  <nav>
    <a href="#stats">Stats</a>
    <a href="#music">Musique</a>
    <a href="#reviews">Avis</a>
    <a href="#commands">Commandes</a>
  </nav>
</header>

<div class="container">

  <!-- ====== Stats ====== -->
  <section id="stats" class="stats">
    <div class="stat-card">
      <h2 id="servers">0</h2>
      <p>Serveurs en ligne</p>
    </div>
    <div class="stat-card">
      <h2 id="users">0</h2>
      <p>Utilisateurs actifs</p>
    </div>
    <div class="stat-card">
      <h2 id="cmds">0</h2>
      <p>Commandes utilisées</p>
    </div>
  </section>

  <!-- ====== Musique ====== -->
  <section id="music" class="music">
    <h2>Top Musiques Écoutées</h2>
    <div class="track"><span>Track 1</span><span id="track1">0 plays</span></div>
    <div class="track"><span>Track 2</span><span id="track2">0 plays</span></div>
    <div class="track"><span>Track 3</span><span id="track3">0 plays</span></div>
  </section>

  <!-- ====== Avis ====== -->
  <section id="reviews" class="reviews">
    <h2>Avis Utilisateurs</h2>
    <div class="review"><span class="stars-review">★★★★☆</span><span class="review-text">Super bot, vraiment pratique !</span></div>
    <div class="review"><span class="stars-review">★★★★★</span><span class="review-text">Interface stylée et rapide.</span></div>
    <div class="review"><span class="stars-review">★★★☆☆</span><span class="review-text">Fonctionne bien mais peut s'améliorer.</span></div>
  </section>

  <!-- ====== Commandes ====== -->
  <section id="commands" class="commands">
    <h2>Liste des Commandes</h2>
    <div class="cmd-card">/play - Jouer une musique</div>
    <div class="cmd-card">/stop - Stop la musique</div>
    <div class="cmd-card">/ban - Bannir un utilisateur</div>
    <div class="cmd-card">/kick - Expulser un utilisateur</div>
    <div class="cmd-card">/stats - Affiche les stats du bot</div>
    <div class="cmd-card">/help - Affiche toutes les commandes</div>
  </section>

</div>

<script>
async function fetchStats() {
  try {
    const res = await fetch("http://fi5.bot-hosting.net:22324/stats"); // L'API Flask de ton bot
    const data = await res.json();

    document.getElementById("servers").textContent = data.servers;
    document.getElementById("users").textContent = data.users;
    document.getElementById("cmds").textContent = data.commands_used;

    document.getElementById("track1").textContent = data.top_tracks.track1 + " plays";
    document.getElementById("track2").textContent = data.top_tracks.track2 + " plays";
    document.getElementById("track3").textContent = data.top_tracks.track3 + " plays";
  } catch (err) {
    console.error("Erreur fetch stats :", err);
  }
}

// Appeler toutes les 5 secondes pour stats temps réel
fetchStats();
setInterval(fetchStats, 5000);
</script>

</body>
</html>
